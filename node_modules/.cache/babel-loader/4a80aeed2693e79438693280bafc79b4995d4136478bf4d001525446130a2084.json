{"ast":null,"code":"import { __assign, __extends, __read, __rest } from \"tslib\";\nimport { Circle } from '@antv/g';\nimport { Marker } from '../../marker';\nimport { Component } from '../../../core';\nimport { classNames, copyAttributes, ellipsisIt, ifShow, parseSeriesAttr, renderExtDo, scaleToPixel, select, subStyleProps } from '../../../util';\nvar CLASS_NAMES = classNames({\n  layout: 'flex',\n  markerGroup: 'marker-group',\n  marker: 'marker',\n  labelGroup: 'label-group',\n  label: 'label',\n  valueGroup: 'value-group',\n  value: 'value',\n  backgroundGroup: 'background-group',\n  background: 'background'\n}, 'legend-category-item');\nfunction styleOfMarker(group) {\n  var marker = group.querySelector(CLASS_NAMES.marker.class);\n  if (marker) return marker.style;\n  return {};\n}\nvar CategoryItem = /** @class */function (_super) {\n  __extends(CategoryItem, _super);\n  function CategoryItem(options) {\n    return _super.call(this, options, {\n      span: [1, 1],\n      marker: function () {\n        return new Circle({\n          style: {\n            r: 6\n          }\n        });\n      },\n      markerSize: 10,\n      labelFill: '#646464',\n      valueFill: '#646464',\n      labelFontSize: 12,\n      valueFontSize: 12,\n      labelTextBaseline: 'middle',\n      valueTextBaseline: 'middle'\n    }) || this;\n  }\n  Object.defineProperty(CategoryItem.prototype, \"showValue\", {\n    get: function () {\n      var valueText = this.attributes.valueText;\n      if (!valueText) return false;\n      if (typeof valueText === 'string' || typeof valueText === 'number') return valueText !== '';\n      if (typeof valueText === 'function') return true;\n      return valueText.attr('text') !== '';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"actualSpace\", {\n    get: function () {\n      var label = this.labelGroup;\n      var value = this.valueGroup;\n      var markerSize = this.attributes.markerSize;\n      var _a = label.node().getBBox(),\n        labelWidth = _a.width,\n        labelHeight = _a.height;\n      var _b = value.node().getBBox(),\n        valueWidth = _b.width,\n        valueHeight = _b.height;\n      return {\n        markerWidth: markerSize,\n        labelWidth: labelWidth,\n        valueWidth: valueWidth,\n        height: Math.max(markerSize, labelHeight, valueHeight)\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"span\", {\n    get: function () {\n      var span = this.attributes.span;\n      if (!span) return [1, 1];\n      var _a = __read(parseSeriesAttr(span), 2),\n        span1 = _a[0],\n        innerSpan = _a[1];\n      var span2 = this.showValue ? innerSpan : 0;\n      var basis = span1 + span2;\n      return [span1 / basis, span2 / basis];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"shape\", {\n    get: function () {\n      var _a;\n      var _b = this.attributes,\n        markerSize = _b.markerSize,\n        fullWidth = _b.width;\n      var actualSpace = this.actualSpace;\n      var markerWidth = actualSpace.markerWidth,\n        height = actualSpace.height;\n      var _c = this.actualSpace,\n        labelWidth = _c.labelWidth,\n        valueWidth = _c.valueWidth;\n      var _d = __read(this.spacing, 2),\n        spacing1 = _d[0],\n        spacing2 = _d[1];\n      if (fullWidth) {\n        var width_1 = fullWidth - markerSize - spacing1 - spacing2;\n        var _e = __read(this.span, 2),\n          span1 = _e[0],\n          span2 = _e[1];\n        _a = __read([span1 * width_1, span2 * width_1], 2), labelWidth = _a[0], valueWidth = _a[1];\n      }\n      var width = markerWidth + labelWidth + valueWidth + spacing1 + spacing2;\n      return {\n        width: width,\n        height: height,\n        markerWidth: markerWidth,\n        labelWidth: labelWidth,\n        valueWidth: valueWidth\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"spacing\", {\n    get: function () {\n      var spacing = this.attributes.spacing;\n      if (!spacing) return [0, 0];\n      var _a = __read(parseSeriesAttr(spacing), 2),\n        spacing1 = _a[0],\n        spacing2 = _a[1];\n      if (this.showValue) return [spacing1, spacing2];\n      return [spacing1, 0];\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"layout\", {\n    get: function () {\n      var _a = this.shape,\n        markerWidth = _a.markerWidth,\n        labelWidth = _a.labelWidth,\n        valueWidth = _a.valueWidth,\n        width = _a.width,\n        height = _a.height;\n      var _b = __read(this.spacing, 2),\n        spacing1 = _b[0],\n        spacing2 = _b[1];\n      return {\n        height: height,\n        width: width,\n        markerWidth: markerWidth,\n        labelWidth: labelWidth,\n        valueWidth: valueWidth,\n        position: [markerWidth / 2, markerWidth + spacing1, markerWidth + labelWidth + spacing1 + spacing2]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CategoryItem.prototype, \"scaleSize\", {\n    get: function () {\n      var markerShapeStyle = styleOfMarker(this.markerGroup.node());\n      var _a = this.attributes,\n        markerSize = _a.markerSize,\n        _b = _a.markerStrokeWidth,\n        markerStrokeWidth = _b === void 0 ? markerShapeStyle.strokeWidth : _b,\n        _c = _a.markerLineWidth,\n        markerLineWidth = _c === void 0 ? markerShapeStyle.lineWidth : _c,\n        _d = _a.markerStroke,\n        markerStroke = _d === void 0 ? markerShapeStyle.stroke : _d;\n      // empirical value\n      var strokeWidth = +(markerStrokeWidth || markerLineWidth || (markerStroke ? 1 : 0)) * Math.sqrt(2);\n      var _e = this.markerGroup.node().getBBox(),\n        width = _e.width,\n        height = _e.height;\n      return (1 - strokeWidth / Math.max(width, height)) * markerSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CategoryItem.prototype.renderMarker = function (container) {\n    var _this = this;\n    var marker = this.attributes.marker;\n    var style = subStyleProps(this.attributes, 'marker');\n    this.markerGroup = container.maybeAppendByClassName(CLASS_NAMES.markerGroup, 'g').style('zIndex', 0);\n    ifShow(!!marker, this.markerGroup, function () {\n      var _a;\n      var parent = _this.markerGroup.node();\n      var oldMarker = (_a = parent.childNodes) === null || _a === void 0 ? void 0 : _a[0];\n      var newMarker = typeof marker === 'string' ? new Marker({\n        style: {\n          symbol: marker\n        },\n        className: CLASS_NAMES.marker.name\n      }) : marker();\n      if (!oldMarker) {\n        if (!(newMarker instanceof Marker)) select(newMarker).attr('className', CLASS_NAMES.marker.name).styles(style);\n        parent.appendChild(newMarker);\n      } else if (newMarker.nodeName === oldMarker.nodeName) {\n        if (oldMarker instanceof Marker) oldMarker.update(__assign(__assign({}, style), {\n          symbol: marker\n        }));else {\n          copyAttributes(oldMarker, newMarker);\n          select(oldMarker).styles(style);\n        }\n      } else {\n        oldMarker.remove();\n        select(newMarker).attr('className', CLASS_NAMES.marker.name).styles(style);\n        parent.appendChild(newMarker);\n      }\n      // record the scale of marker\n      _this.markerGroup.node().scale(1 / _this.markerGroup.node().getScale()[0]);\n      var scale = scaleToPixel(_this.markerGroup.node(), _this.scaleSize, true);\n      _this.markerGroup.node().style._transform = \"scale(\".concat(scale, \")\");\n    });\n  };\n  CategoryItem.prototype.renderLabel = function (container) {\n    var _a = subStyleProps(this.attributes, 'label'),\n      label = _a.text,\n      style = __rest(_a, [\"text\"]);\n    this.labelGroup = container.maybeAppendByClassName(CLASS_NAMES.labelGroup, 'g').style('zIndex', 0);\n    this.labelGroup.maybeAppendByClassName(CLASS_NAMES.label, function () {\n      return renderExtDo(label);\n    }).styles(style);\n  };\n  CategoryItem.prototype.renderValue = function (container) {\n    var _this = this;\n    var _a = subStyleProps(this.attributes, 'value'),\n      value = _a.text,\n      style = __rest(_a, [\"text\"]);\n    this.valueGroup = container.maybeAppendByClassName(CLASS_NAMES.valueGroup, 'g').style('zIndex', 0);\n    ifShow(this.showValue, this.valueGroup, function () {\n      _this.valueGroup.maybeAppendByClassName(CLASS_NAMES.value, function () {\n        return renderExtDo(value);\n      }).styles(style);\n    });\n  };\n  CategoryItem.prototype.renderBackground = function (container) {\n    var _a = this.shape,\n      width = _a.width,\n      height = _a.height;\n    var style = subStyleProps(this.attributes, 'background');\n    this.background = container.maybeAppendByClassName(CLASS_NAMES.backgroundGroup, 'g').style('zIndex', -1);\n    this.background.maybeAppendByClassName(CLASS_NAMES.background, 'rect').styles(__assign({\n      width: width,\n      height: height\n    }, style));\n  };\n  CategoryItem.prototype.adjustLayout = function () {\n    var _a = this.layout,\n      labelWidth = _a.labelWidth,\n      valueWidth = _a.valueWidth,\n      height = _a.height,\n      _b = __read(_a.position, 3),\n      markerX = _b[0],\n      labelX = _b[1],\n      valueX = _b[2];\n    var halfHeight = height / 2;\n    // console.log(this.markerGroup.node().style._transform);\n    this.markerGroup.styles({\n      transform: \"translate(\".concat(markerX, \", \").concat(halfHeight, \")\").concat(this.markerGroup.node().style._transform)\n    });\n    this.labelGroup.styles({\n      transform: \"translate(\".concat(labelX, \", \").concat(halfHeight, \")\")\n    });\n    ellipsisIt(this.labelGroup.select(CLASS_NAMES.label.class).node(), Math.ceil(labelWidth));\n    if (this.showValue) {\n      this.valueGroup.styles({\n        transform: \"translate(\".concat(valueX, \", \").concat(halfHeight, \")\")\n      });\n      ellipsisIt(this.valueGroup.select(CLASS_NAMES.value.class).node(), Math.ceil(valueWidth));\n    }\n  };\n  CategoryItem.prototype.render = function (attributes, container) {\n    var ctn = select(container);\n    var _a = attributes.x,\n      x = _a === void 0 ? 0 : _a,\n      _b = attributes.y,\n      y = _b === void 0 ? 0 : _b;\n    ctn.styles({\n      transform: \"translate(\".concat(x, \", \").concat(y, \")\")\n    });\n    this.renderMarker(ctn);\n    this.renderLabel(ctn);\n    this.renderValue(ctn);\n    this.renderBackground(ctn);\n    this.adjustLayout();\n  };\n  return CategoryItem;\n}(Component);\nexport { CategoryItem };","map":{"version":3,"names":["Circle","Marker","Component","classNames","copyAttributes","ellipsisIt","ifShow","parseSeriesAttr","renderExtDo","scaleToPixel","select","subStyleProps","CLASS_NAMES","layout","markerGroup","marker","labelGroup","label","valueGroup","value","backgroundGroup","background","styleOfMarker","group","querySelector","class","style","CategoryItem","_super","__extends","options","call","span","r","markerSize","labelFill","valueFill","labelFontSize","valueFontSize","labelTextBaseline","valueTextBaseline","Object","defineProperty","prototype","get","valueText","attributes","attr","_a","node","getBBox","labelWidth","width","labelHeight","height","_b","valueWidth","valueHeight","markerWidth","Math","max","__read","span1","innerSpan","span2","showValue","basis","fullWidth","actualSpace","_c","_d","spacing","spacing1","spacing2","width_1","_e","shape","position","markerShapeStyle","markerStrokeWidth","strokeWidth","markerLineWidth","lineWidth","markerStroke","stroke","sqrt","renderMarker","container","_this","maybeAppendByClassName","parent","oldMarker","childNodes","newMarker","symbol","className","name","styles","appendChild","nodeName","update","__assign","remove","scale","getScale","scaleSize","_transform","concat","renderLabel","text","__rest","renderValue","renderBackground","adjustLayout","markerX","labelX","valueX","halfHeight","transform","ceil","render","ctn","x","y"],"sources":["ui/legend/category/item.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}